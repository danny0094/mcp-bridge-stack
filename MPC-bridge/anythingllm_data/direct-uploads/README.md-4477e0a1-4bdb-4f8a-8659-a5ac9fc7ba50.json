{
    "id": "4477e0a1-4bdb-4f8a-8659-a5ac9fc7ba50",
    "url": "file:///app/collector/hotdir/README.md",
    "title": "README.md",
    "docAuthor": "Unknown",
    "description": "Unknown",
    "docSource": "a text file uploaded by the user.",
    "chunkSource": "",
    "published": "11/1/2025, 8:12:43 PM",
    "wordCount": 663,
    "pageContent": "# ğŸ§© AnythingLLM MCP HTTP Bridge  \n\n**Lightweight HTTP bridge for AnythingLLM to connect multiple local MCP servers securely via Docker.**  \nA clean, modular, and safe way to run multiple MCP servers without Docker-in-Docker or direct process spawning.  \n\n![Architecture Diagram](https://user-images.githubusercontent.com/0000000/placeholder-diagram.png)\n\n---\n\n## ğŸš€ Overview  \n\nThis bridge allows **AnythingLLM** to communicate with multiple **MCP servers** inside isolated Docker containers.  \nIt provides a single, secure HTTP entry point while keeping each MCP fully sandboxed.  \n\n### âœ… Key Features  \n- ğŸ”’ **Safe & clean:** No host or Docker-in-Docker access.  \n- ğŸ§± **Modular:** Each MCP runs in its own container with a small FastAPI server.  \n- ğŸŒ **Bridge-controlled:** AnythingLLM only talks to the bridge (`mini-bridge`), never to the MCPs directly.  \n- âš™ï¸ **Dynamic registry:** MCP servers are auto-loaded from `mcp_registry.json`.  \n- â™»ï¸ **Auto reload:** The bridge reloads configuration changes live without restarting containers.  \n- ğŸ•’ **Example MCPs:** Includes a `Dummy-MCP` for testing and a working `MCP-Time` module returning system time.  \n\n---\n\n## ğŸ§  Architecture  \n\n```\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nDocker Network: test-net\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nâ”‚\nâ”œâ”€ anythingllm  (Port 3001)\nâ”‚     â†³ Main app â€“ talks only to mini-bridge\nâ”‚\nâ”œâ”€ mini-bridge  (Port 4100)\nâ”‚     â†³ Forwards JSON-RPC requests to registered MCPs\nâ”‚     â†³ Reloads mcp_registry.json dynamically\nâ”‚\nâ”œâ”€ dummy-mcp    (Port 4200)\nâ”‚     â†³ JSON-RPC test MCP returning handshake info\nâ”‚\nâ””â”€ mcp-time     (Port 4210)\n      â†³ Returns current UTC time\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n```\n\n---\n\n## âš™ï¸ Quick Setup  \n\n```bash\ngit clone https://github.com/yourname/anythingllm-mcp-http-bridge.git\ncd anythingllm-mcp-http-bridge\ndocker compose up --build\n```\n\nBridge log output:  \n```\n[Bridge] Registry reloaded: ['dummy', 'time']\n[Bridge] Default route â†’ dummy (200)\n```\n\nThen open AnythingLLM â†’ MCP Settings â†’  \nAdd new server: `http://mini-bridge:4100`\n\n---\n\n## ğŸ“œ MCP Registry Example  \n\n`mini_bridge/config/mcp_registry.json`\n\n```json\n{\n  \"autoReload\": true,\n  \"servers\": [\n    {\n      \"id\": \"dummy\",\n      \"name\": \"Dummy MCP\",\n      \"url\": \"http://dummy-mcp:4200\",\n      \"type\": \"streamable\",\n      \"enabled\": true\n    },\n    {\n      \"id\": \"time\",\n      \"name\": \"Time MCP\",\n      \"url\": \"http://mcp-time:4210\",\n      \"type\": \"streamable\",\n      \"enabled\": true\n    }\n  ]\n}\n```\n\n---\n\n## ğŸ§© Available MCP Modules  \n\n| MCP | Description | Example call |\n|-----|--------------|--------------|\n| **Dummy-MCP** | Minimal test server, responds to `initialize`, `ping`, etc. | `POST /dummy` |\n| **MCP-Time** | Returns current UTC time | `tools/call â†’ get_time` |\n\nTest manually:  \n```bash\ncurl -X POST http://localhost:4100/time      -H \"Content-Type: application/json\"      -d '{\"jsonrpc\":\"2.0\",\"id\":1,\"method\":\"tools/call\",\"params\":{\"name\":\"get_time\"}}'\n```\n\nResponse:  \n```json\n{\"jsonrpc\":\"2.0\",\"id\":1,\"result\":{\"message\":\"The current time is 18:42:10 UTC\"}}\n```\n\n---\n\n## ğŸ§© Folder Structure  \n\n```\nâ”œâ”€â”€ docker-compose.yml\nâ”œâ”€â”€ mini_bridge/\nâ”‚   â”œâ”€â”€ mini_bridge_v2.py\nâ”‚   â”œâ”€â”€ Dockerfile\nâ”‚   â””â”€â”€ config/\nâ”‚       â””â”€â”€ mcp_registry.json\nâ”œâ”€â”€ dummy_MCP/\nâ”‚   â”œâ”€â”€ dummy_mcp.py\nâ”‚   â””â”€â”€ Dockerfile\nâ””â”€â”€ mcp_time/\n    â”œâ”€â”€ mcp_time.py\n    â””â”€â”€ Dockerfile\n```\n\n---\n\n## ğŸ”’ Security  \n\nEach MCP server runs in its **own container** on a private Docker network.  \nThe bridge is the **only exposed interface** and accepts **JSON-RPC over HTTP** â€” nothing else.  \n\n- No direct container access from AnythingLLM  \n- No Docker-in-Docker  \n- No shell or file system commands  \n- Safe, stateless JSON-based communication only  \n\n---\n\n## ğŸ§¾ License  \n\n**MIT License**  \nFeel free to use, fork, and build upon this project.  \nSee the full [LICENSE](./LICENSE) file for details.  \n\n---\n\n## ğŸ’¬ Development Note  \n\nIâ€™ll keep improving this project as my own independent solution.  \nIf the **AnythingLLM** team finds the idea useful, feel free to build on it or integrate parts of it.  \n\nAs of now, tool output is still returned in a raw format instead of a fully formatted chat reply â€” once thatâ€™s refined, the public release will follow.  \n\n---\n\n## ğŸŒŸ Credits  \n\nCreated by **Danny**  \nBuilt with â¤ï¸ using FastAPI, Docker, and curiosity.\n",
    "token_count_estimate": 1170
}